<div class="flex flex-col h-full bg-slate-900">
    <!-- Toolbar -->
    <div class="bg-slate-800 p-2 flex items-center gap-4 border-b border-slate-700 shadow-md z-10">
        <div class="flex items-center gap-2">
            <button pButton icon="pi pi-pencil" (click)="setTool('pen')" [class.p-button-outlined]="isEraser"
                class="p-button-sm" pTooltip="Pen"></button>

            <button pButton icon="pi pi-eraser" (click)="setTool('eraser')" [class.p-button-outlined]="!isEraser"
                class="p-button-sm p-button-danger" pTooltip="Eraser"></button>
        </div>

        <div class="h-6 w-px bg-slate-600 mx-2"></div>

        <div class="flex items-center gap-2">
            <span class="text-slate-400 text-sm">Color:</span>
            <p-colorPicker [(ngModel)]="selectedColor" [disabled]="isEraser"></p-colorPicker>
        </div>

        <div class="flex items-center gap-2 ml-4">
            <span class="text-slate-400 text-sm">Size:</span>
            <input type="range" min="1" max="20" [(ngModel)]="lineWidth" [disabled]="isEraser"
                class="w-24 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer">
        </div>

        <div class="flex-1"></div>

        <button pButton label="Clear Board" icon="pi pi-trash" (click)="clearBoard()"
            class="p-button-sm p-button-outlined p-button-danger"></button>
    </div>

    <!-- Canvas Container -->
    <div class="flex-1 relative overflow-hidden cursor-crosshair bg-white">
        <canvas #canvas (mousedown)="startDrawing($event)" (mousemove)="draw($event)" (mouseup)="stopDrawing()"
            (mouseleave)="stopDrawing()" (touchstart)="startDrawing($event)" (touchmove)="draw($event)"
            (touchend)="stopDrawing()" class="absolute inset-0 w-full h-full touch-none">
        </canvas>
    </div>
</div>